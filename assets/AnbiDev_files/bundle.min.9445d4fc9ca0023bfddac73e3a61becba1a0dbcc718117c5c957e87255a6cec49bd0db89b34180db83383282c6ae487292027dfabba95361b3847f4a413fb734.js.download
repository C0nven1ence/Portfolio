const menuTrigger=document.querySelector(".menu-trigger");const menuHover=document.querySelector(".menu-hover");const overlay=document.querySelector(".overlay");const menu=document.querySelector(".menu");const subMenu=document.querySelector(".sub-menu")
const mobileQuery=getComputedStyle(document.body).getPropertyValue("--tabletWidth");const isMobile=()=>window.matchMedia(mobileQuery).matches;const isMobileMenu=()=>{menuTrigger&&menuTrigger.classList.toggle("hidden",!isMobile());menu&&menu.classList.toggle("hidden",isMobile());};isMobileMenu();menuTrigger&&menuTrigger.addEventListener("click",()=>{menu&&menu.classList.toggle("hidden");overlay&&overlay.classList.toggle("hidden");});overlay&&overlay.addEventListener("click",()=>{if(overlay.style.display!="none"){menu&&menu.classList.toggle("hidden");overlay&&overlay.classList.toggle("hidden");}})
window.addEventListener("resize",isMobileMenu);;const getTheme=window.localStorage&&window.localStorage.getItem("theme");const themeToggle=document.querySelector(".theme-toggle");const isDark=getTheme==="dark";var metaThemeColor=document.querySelector("meta[name=theme-color]");if(getTheme!==null){document.body.classList.toggle("dark-theme",isDark);isDark?metaThemeColor.setAttribute("content","#252627"):metaThemeColor.setAttribute("content","#fafafa");}
themeToggle.addEventListener("click",()=>{document.body.classList.toggle("dark-theme");window.localStorage&&window.localStorage.setItem("theme",document.body.classList.contains("dark-theme")?"dark":"light",);document.body.classList.contains("dark-theme")?metaThemeColor.setAttribute("content","#252627"):metaThemeColor.setAttribute("content","#fafafa");;});;let didScroll;let lastScrollTop=0;let delta=5;let navbarHeight=$("header").outerHeight();let btn=$("#but-to-up");$(window).scroll(function(event){didScroll=true;if($(window).scrollTop()>300){btn.addClass("show");}else{btn.removeClass("show");}});btn.on("click",function(e){e.preventDefault();$("html, body").animate({scrollTop:0},"300");});setInterval(function(){if(didScroll){hasScrolled();didScroll=false;}},100);function hasScrolled(){let st=$(this).scrollTop();if(Math.abs(lastScrollTop-st)<=delta)return;if(st>lastScrollTop&&st>navbarHeight){$("header").removeClass("nav-down").addClass("nav-up");}else{if(st+$(window).height()<$(document).height()){$("header").removeClass("nav-up").addClass("nav-down");}}
lastScrollTop=st;}
const theAds=$('.ads-side');if(theAds.offset()){let fixmeTop=theAds.offset().top;let fixmeBottom=$('.ads-below').offset().top;fixmeTop+=300;$(window).scroll(function(){if(!isMobile()){var currentScroll=$(window).scrollTop();if(currentScroll>=fixmeTop&&currentScroll<=fixmeBottom){theAds.css({position:'fixed',top:'75px'});}else{theAds.css({position:'relative',marginLeft:'20px'});}}});};const TxtRotate=function(el,toRotate,period){this.toRotate=toRotate;this.el=el;this.loopNum=0;this.period=parseInt(period,10)||2000;this.txt="";this.tick();this.isDeleting=false;};TxtRotate.prototype.tick=function(){let i=this.loopNum%this.toRotate.length;let fullTxt=this.toRotate[i];if(this.isDeleting){this.txt=fullTxt.substring(0,this.txt.length-1);}else{this.txt=fullTxt.substring(0,this.txt.length+1);}
this.el.innerHTML='<span class="wrap">'+this.txt+"</span>";let that=this;let delta=300-Math.random()*100;if(this.isDeleting){delta/=2;}
if(!this.isDeleting&&this.txt===fullTxt){delta=this.period;if(this.txt=="/AnbiDev/"){delta=30000;}
this.isDeleting=true;}else if(this.isDeleting&&this.txt===""){this.isDeleting=false;this.loopNum++;delta=500;}
setTimeout(function(){that.tick();},delta);};$(function(){let elements=document.getElementsByClassName("logo__text");for(let i=0;i<elements.length;i++){let toRotate=elements[i].getAttribute("data-rotate");let period=elements[i].getAttribute("data-period");if(toRotate){new TxtRotate(elements[i],JSON.parse(toRotate),period);}}});;window.addEventListener("DOMContentLoaded",function(event){let index=null;let lookup=null;let queuedTerm=null;let form=document.getElementById("search-form");let input=document.getElementById("search-input");$('#theme-search').on("click",function(event){event.preventDefault();$("#search").addClass("open");$('#search-input').focus();});$("#search, #search button.close").on("click",function(event){if(event.target==this||event.target.className=="close"){$(this).removeClass("open");}});form.addEventListener("submit",function(event){event.preventDefault();let term=input.value.trim();if(!term)
return;startSearch(term);},false);function startSearch(term){$(".search-form").hide();$(".loop").show();if(index){search(term);}
else if(queuedTerm){queuedTerm=term;}
else{queuedTerm=term;initIndex();}}
function searchDone(){$("#search").removeClass("open");$(".search-form").show();$(".loop").hide();queuedTerm=null;}
function initIndex(){let request=new XMLHttpRequest();request.open("GET","/search.json");request.responseType="json";request.addEventListener("load",function(event){lookup={};index=lunr(function(){this.ref("url");this.field("title");this.field("content");this.field("description");this.field("categories");if(request.response){for(let doc of request.response){this.add(doc);lookup[doc.url]=doc;}}});search(queuedTerm);},false);request.addEventListener("error",searchDone,false);request.send(null);}
function search(term){let results=index.search(term);let target=document.querySelector(".content");while(target.firstChild)
target.removeChild(target.firstChild);let title=document.createElement("h1");title.id="search-results";title.className="list-title";if(results.length==0)
title.textContent=`No results found for “${term}”`;else if(results.length==1)
title.textContent=`Found one result for “${term}”`;else
title.textContent=`Found ${results.length} results for “${term}”`;target.appendChild(title);document.title=title.textContent;let template=document.getElementById("search-result");for(let result of results){let doc=lookup[result.ref];let element=template.content.cloneNode(true);element.querySelector(".summary-title-link").href=element.querySelector(".read-more-link").href=doc.url;element.querySelector(".result-search-title").textContent=doc.title;element.querySelector(".summary").textContent=truncate(doc.content,30);element.querySelector(".summary-cover").src=doc.cover
element.querySelector(".summary-cover").setAttribute("data-large",doc.cover);target.appendChild(element);}
title.scrollIntoView(true);searchDone();}
function truncate(text,minWords){let match;let result="";let wordCount=0;let regexp=/(\S+)(\s*)/g;while(match=regexp.exec(text)){wordCount++;if(wordCount<=minWords)
result+=match[0];else{let char1=match[1][match[1].length-1];let char2=match[2][0];if(/[.?!"]/.test(char1)||char2=="\n"){result+=match[1];break;}
else
result+=match[0];}}
return result;}},false);;(function($,window,document,undefined){'use strict';var $win=$(window),throttle=function(a,b){var c,d;return function(){var e=this,f=arguments,g=+new Date;c&&g<c+a?(clearTimeout(d),d=setTimeout(function(){c=g,b.apply(e,f)},a)):(c=g,b.apply(e,f))}},throttleTO=false,laziness=false,disqusConfig=false,scriptUrl=false,scriptStatus='unloaded',$instance=$(),init=function(){if(!$instance.length||$instance.data('disqusLoaderStatus')=='loaded')
return true;var winST=$win.scrollTop();if($instance.offset().top-winST>$win.height()*laziness||winST-$instance.offset().top-$instance.outerHeight()-($win.height()*laziness)>0)
return true;$('#disqus_thread').removeAttr('id');$instance.attr('id','disqus_thread').data('disqusLoaderStatus','loaded');if(scriptStatus=='loaded'){DISQUS.reset({reload:true,config:disqusConfig});}else
{window.disqus_config=disqusConfig;if(scriptStatus=='unloaded'){scriptStatus='loading';$.ajax({url:scriptUrl,async:true,cache:true,dataType:'script',success:function(){scriptStatus='loaded';}});}}};$win.on('scroll resize',throttle(throttleTO,init));$.disqusLoader=function(element,options){options=$.extend({},{laziness:1,throttle:250,scriptUrl:false,disqusConfig:false,},options);laziness=options.laziness+1;throttleTO=options.throttle;disqusConfig=options.disqusConfig;scriptUrl=scriptUrl===false?options.scriptUrl:scriptUrl;$instance=(typeof element=='string'?$(element):element).eq(0);$instance.data('disqusLoaderStatus','unloaded');init();};})(jQuery,window,document);let options={scriptUrl:'//anbidev.disqus.com/embed.js',laziness:1,throttle:250,disqusConfig:function(){this.page.title='AnbiDev';this.page.url=window.location.href;this.callbacks.onReady=[function(){$('.disqus-placeholder').addClass('is-hidden');}];}};$.disqusLoader('.disqus',options);;;(function($,window,document,undefined){'use strict';var $win=$(window),throttle=function(a,b){var c,d;return function(){var e=this,f=arguments,g=+new Date;c&&g<c+a?(clearTimeout(d),d=setTimeout(function(){c=g,b.apply(e,f)},a)):(c=g,b.apply(e,f))}},scriptUrl='//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js',scriptLoaded=false,throttleTO=250,$adsLoaded=$([]),$adsToLoad=$([]),$adsPending=$([]),loadAd=function($ad){(adsbygoogle=window.adsbygoogle||[]).push({});var onLoadFn=$ad.data('alOptions').onLoad;if(typeof onLoadFn==='function'){$ad.find('iframe').one('load',function(){onLoadFn($ad);});}},getAdWidth=function(ad){return parseInt(window.getComputedStyle(ad,':before').getPropertyValue('content').slice(1,-1)||9999);},initAds=function(){if(!$adsToLoad.length)return true;var winScroll=$win.scrollTop(),winHeight=$win.height();$adsToLoad.each(function(){var $this=$(this),thisOpts=$this.data('alOptions'),laziness=thisOpts.laziness+1,offset=$this.offset().top;if(offset-winScroll>winHeight*laziness||winScroll-offset-$this.outerHeight()-(winHeight*laziness)>0)
return true;$adsToLoad=$adsToLoad.not($this);$adsLoaded=$adsLoaded.add($this);$this.data('alOriginalHTML',$this.html()).data('alWidth',getAdWidth(this)).children(':first').addClass('adsbygoogle');if(typeof adsbygoogle!=='undefined')loadAd($this);else $adsPending=$adsPending.add($this);if(!scriptLoaded){scriptLoaded=true;$.ajax({url:scriptUrl,async:true,cache:true,dataType:'script',success:function(){$adsPending.each(function(){loadAd($(this));});$adsPending=$([]);}});}});},resizeAds=function(){if(!$adsLoaded.length)return true;var anyNew=false;$adsLoaded.each(function(){var $this=$(this);if($this.data('alWidth')!=getAdWidth(this)){$adsLoaded=$adsLoaded.not($this);$this.html($this.data('alOriginalHTML'));$adsToLoad=$adsToLoad.add($this);anyNew=true;}});if(anyNew)initAds();};$win.on('scroll resize',throttle(throttleTO,initAds)).on('resize',throttle(throttleTO,resizeAds));$.fn.adsenseLoader=function(options){if(typeof options!=='string'){options=$.extend({},{laziness:1,onLoad:false},options);}
this.each(function(){var $this=$(this);if(options==='destroy'){$this.html($this.data('alOriginalHTML'));$adsToLoad=$adsToLoad.not($this);$adsLoaded=$adsLoaded.not($this);$adsPending=$adsPending.not($this);}else{$this.data('alOptions',options);$adsToLoad=$adsToLoad.add($this);}});if(options!=='destroy')
initAds();return this;};$.adsenseLoaderConfig=function(options){if(typeof options.scriptUrl!=='undefined')
scriptUrl=options.scriptUrl;if(typeof options.throttle!=='undefined')
throttleTO=options.throttle;};})(jQuery,window,document);options={laziness:1,onLoad:function($ad){$ad.addClass('adsense__loaded')}};$('.adsense').adsenseLoader(options);;let lazyLoadInstance=new LazyLoad({});lazyLoadInstance.update()